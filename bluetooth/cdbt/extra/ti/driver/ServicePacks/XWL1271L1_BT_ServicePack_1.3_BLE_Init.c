/*******************************************************************************
* Contains proprietary and confidential information of SEARAN LLC.
* May not be used or disclosed to any other party except in accordance
* with a license from SEARAN LLC.
* Copyright (c) 2011-2015 SEARAN LLC. All Rights Reserved.
*******************************************************************************/

#include "cdbt/bt/bt_std.h"
#include "cdbt/bt/bt_private.h"
#include "cdbt/extra/ti/ti.h"

//-------------------------------------------------------------------------------- 
// Description:   BRF6450 WB FW Initialization Script 
// 
// Compatibility: BRF6450 PG1 ROM 
// 
// Last Updated:  07-Oct-2010  15:19:44.57 
// 
// Version:       1.0 
// 
//-------------------------------------------------------------------------------- 
//BLE Enable
static const bt_byte packet01[] = {0x01,0x5b,0xfd,0x02,0x01,0x01};
// Disable Cortex Sleep
static const bt_byte packet02[] = {0x01,0xa8,0xfd,0x01,0x01};
// Cortex Reset (hold in reset while loading IMEM)
static const bt_byte packet03[] = {0x01,0x09,0xfd,0x08,0x00,0xc0,0x1b,0x00,0x01,0x00,0x01,0x00};
//#######################
// Patch Start
//#######################
static const bt_byte packet04[] = {0x01,0x05,0xff,0x41,0x60,0x5c,0x1b,0x00,0x3c,0x01,0x68,0xb1,0xf1,0xff,0x3f,0x1c,
                               0xbf,0x49,0x1c,0x01,0x60,0x13,0xd1,0x41,0x68,0x00,0x23,0x03,0x60,0x01,0xf0,0x7f,
                               0x02,0x7f,0x2a,0x04,0xbf,0x21,0xf0,0x7f,0x01,0x41,0x60,0x4f,0xea,0x41,0x62,0x06,
                               0xd0,0x02,0xf1,0x00,0x72,0x21,0xf0,0x7f,0x01,0x41,0xea,0x52,0x61,0x41,0x60,0x70,
                               0x47,0x00,0x00,0xf0,0xb5};
static const bt_byte packet05[] = {0x01,0x05,0xff,0xcd,0x8c,0x6e,0x1b,0x00,0xc8,0x40,0xf2,0x00,0x04,0xc2,0xf2,0x00,
                               0x04,0xd4,0xf8,0x8c,0x25,0x40,0xf2,0x00,0x05,0x01,0x78,0x6f,0xf3,0x1f,0x42,0xc2,
                               0xf2,0x30,0x05,0x15,0x43,0x42,0xf2,0x6c,0x4b,0x29,0x80,0x43,0xf2,0x00,0x02,0xc4,
                               0xf2,0x00,0x0b,0x00,0x23,0xab,0xf8,0x00,0x30,0x4f,0xf4,0x20,0x63,0xc2,0xf2,0x31,
                               0x02,0x01,0x21,0x41,0xf2,0x08,0x46,0x40,0x27,0x4f,0xf0,0x78,0x0c,0x53,0x80,0x16,
                               0x80,0xd7,0x83,0xa2,0xf8,0x1c,0xc0,0x91,0x80,0x11,0x84,0x02,0x78,0x10,0x2a,0x80,
                               0xf2,0xbf,0x80,0x13,0x46,0x00,0x2b,0x05,0xf1,0x02,0x05,0x2b,0xd0,0x5b,0x1e,0x1d,
                               0xd0,0x5b,0x1e,0x0e,0xd0,0x5b,0x1e,0x30,0xd1,0x42,0xf2,0x46,0x42,0xc2,0xf2,0x31,
                               0x02,0x00,0x23,0x93,0x80,0x11,0x80,0x02,0x78,0x4f,0xf4,0x80,0x7a,0x41,0xf2,0x11,
                               0x08,0x23,0xe0,0x42,0xf2,0x46,0x42,0xc2,0xf2,0x31,0x02,0x02,0x23,0x93,0x80,0x11,
                               0x80,0x02,0x78,0x4f,0xf4,0x80,0x7a,0x41,0xf2,0x11,0x08,0x16,0xe0,0x42,0xf2,0x46,
                               0x42,0xc2,0xf2,0x31,0x02,0x02,0x23,0x93,0x80,0x11,0x80,0x02,0x78,0x8a,0x46,0x41,
                               0xf2,0x01,0x18,0x0a,0xe0,0x42,0xf2,0x46,0x42,0xc2,0xf2,0x31,0x02,0x00,0x23,0x93,
                               0x80};
static const bt_byte packet06[] = {0x01,0x05,0xff,0xcd,0x54,0x6f,0x1b,0x00,0xc8,0x11,0x80,0x41,0xf2,0x10,0x18,0x8a,
                               0x46,0x02,0x78,0x42,0xf2,0x48,0x49,0x4f,0xf2,0x04,0x07,0x10,0x2a,0x7c,0xda,0xc2,
                               0xf2,0x31,0x09,0xc2,0xf2,0x32,0x07,0x00,0x20,0x00,0x26,0xab,0xf8,0x00,0x00,0x25,
                               0xf8,0x02,0x6b,0x4f,0xf0,0x15,0x0e,0xa9,0xf8,0x00,0xe0,0x94,0xf8,0x05,0x26,0x10,
                               0x2a,0x04,0xda,0x39,0x88,0x01,0x20,0x90,0x40,0x08,0x43,0x38,0x80,0xc6,0xf1,0xfa,
                               0x00,0x80,0xb2,0xfe,0xf7,0xb7,0xfb,0x11,0x20,0xa9,0xf8,0x00,0x00,0x94,0xf8,0x10,
                               0x26,0x10,0x2a,0x04,0xda,0x39,0x88,0x01,0x20,0x90,0x40,0x08,0x43,0x38,0x80,0xfa,
                               0x20,0xfe,0xf7,0xa8,0xfb,0xbb,0xf8,0x00,0x00,0x1a,0xea,0x00,0x0f,0x25,0xf8,0x02,
                               0x0b,0x02,0xd0,0x18,0xea,0x00,0x0f,0x09,0xd0,0x94,0xf8,0x49,0x06,0x40,0xf0,0x04,
                               0x00,0x84,0xf8,0x49,0x06,0x4f,0xf4,0xfa,0x70,0xfe,0xf7,0x94,0xfb,0x10,0x20,0xa9,
                               0xf8,0x00,0x00,0x94,0xf8,0x10,0x26,0x38,0x46,0x10,0x2a,0x08,0xda,0x01,0x88,0x4f,
                               0xf0,0x01,0x0e,0x0e,0xfa,0x02,0xf0,0x81,0x43,0xbc,0x46,0xac,0xf8,0x00,0x10,0x32,
                               0x20,0xfe,0xf7,0x80,0xfb,0x14,0x20,0xa9,0xf8,0x00,0x00,0x94,0xf8,0x05,0x26,0x38,
                               0x46};
static const bt_byte packet07[] = {0x01,0x05,0xff,0xcd,0x1c,0x70,0x1b,0x00,0xc8,0x10,0x2a,0x08,0xda,0x01,0x88,0x4f,
                               0xf0,0x01,0x0e,0x0e,0xfa,0x02,0xf0,0x81,0x43,0xbc,0x46,0xac,0xf8,0x00,0x10,0x32,
                               0x20,0xfe,0xf7,0x6c,0xfb,0xbb,0xf8,0x00,0x00,0x41,0xf2,0x11,0x11,0x25,0xf8,0x02,
                               0x0b,0x01,0x42,0x1e,0xbf,0x94,0xf8,0x49,0x06,0x40,0xf0,0x08,0x00,0x84,0xf8,0x49,
                               0x06,0xc8,0x20,0xfe,0xf7,0x5b,0xfb,0x76,0x1c,0xfa,0x2e,0x4f,0xf0,0x00,0x00,0x88,
                               0xd3,0x94,0xf8,0x49,0x06,0x00,0xf0,0x7f,0x00,0x84,0xf8,0x49,0x06,0xbd,0xe8,0xf0,
                               0x8f,0x30,0xb5,0x41,0xf6,0x48,0x44,0x41,0xf6,0x30,0x45,0x00,0x21,0x03,0x20,0xc2,
                               0xf2,0x00,0x04,0xc2,0xf2,0x00,0x05,0x0a,0x46,0x63,0x7a,0xe8,0x75,0xf9,0xf7,0x57,
                               0xfb,0x63,0x7a,0xe8,0x7d,0x00,0x22,0x01,0x21,0xf9,0xf7,0x51,0xfb,0x40,0xf6,0x6a,
                               0x20,0x07,0x21,0xc2,0xf2,0x32,0x00,0xff,0xf7,0xbc,0xfa,0x00,0x21,0x22,0x7a,0x31,
                               0x20,0xff,0xf7,0x0d,0xfa,0x43,0xf2,0x5c,0x10,0x00,0x21,0xc2,0xf2,0x31,0x00,0xff,
                               0xf7,0xb0,0xfa,0x20,0x7a,0x10,0xb9,0x00,0xf0,0x79,0xff,0x30,0xbd,0x00,0xf0,0xdf,
                               0xfe,0x30,0xbd,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00};
static const bt_byte packet08[] = {0x01,0x05,0xff,0xcd,0xe4,0x70,0x1b,0x00,0xc8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00};
static const bt_byte packet09[] = {0x01,0x05,0xff,0x11,0xac,0x71,0x1b,0x00,0x0c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                               0x00,0x00,0x00,0x00,0x00};
static const bt_byte packet10[] = {0x01,0x05,0xff,0x15,0x0c,0x7f,0x1b,0x00,0x10,0x10,0xbd,0x00,0xb5,0x41,0xf6,0x50,
                               0x40,0xc2,0xf2,0x00,0x00,0x00,0x21,0x02,0x78};
static const bt_byte packet11[] = {0x01,0x05,0xff,0x15,0x30,0x7f,0x1b,0x00,0x10,0xff,0xf7,0xa0,0xf8,0x00,0xbd,0x00,
                               0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
//#######################
// Patch End
//#######################
//release Cortex Reset
static const bt_byte packet12[] = {0x01,0x09,0xfd,0x08,0x00,0xc0,0x1b,0x00,0x00,0x00,0x01,0x00};
// Enable Cortex Sleep
static const bt_byte packet13[] = {0x01,0xa8,0xfd,0x01,0x00};
//RESET BLE
static const bt_byte packet14[] = {0x01,0x5b,0xfd,0x02,0x01,0x00};
static const bt_byte packet15[] = {0x01,0xdd,0xfd,0x01,0x01};

static const bt_byte* const packets[] = {
	packet01,packet02,packet03,packet04,packet05,packet06,packet07,packet08,packet09,packet10,packet11,packet12,packet13,
	packet14,packet15};

#define PACKET_COUNT (sizeof(packets) / sizeof(packets[0]))
	
static const btx_ti_script_t script =
{
	packets,
	PACKET_COUNT,
	0, 0         // compatible FW version N/A
};
	

const btx_ti_script_t* btx_ti_get_script__XWL1271L1_BT_ServicePack_1_3_BLE_Init(void)
{
	return &script;
}
